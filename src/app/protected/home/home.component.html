<div class="container m-5">
    <h2 class="text-primary">Mon espace</h2>
    <!-- On teste si l'utilisateur est connecté : si oui, on passe au 2ème *ngIf, sinon, on charge le template #connection -->
    <ng-container *ngIf="true;else connection">
        <div class="card mx-2 my-4">
            <div class="card-body m-3">
                <p>
                    Il y a actuellement <strong *ngIf="books$ | async as books;else loading">{{ books?.length }}
                        livre(s)</strong> dans mon espace
                </p>
                <button class="btn btn-primary" routerLink="/my-space/my-books">Allez dans mon espace</button>
            </div>
        </div>
    </ng-container>
</div>

<!-- Template 'connection' pour si user non connecté -->
<ng-template #connection>
    <app-connection-required></app-connection-required>
</ng-template>

<ng-template #loading>
    <div class="spinner-border spinner-border-sm" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</ng-template>